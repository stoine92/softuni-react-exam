{"ast":null,"code":"var _jsxFileName = \"/Users/stoyannikolov/Desktop/softuni-react-exam/src/imgUpload/ImgUpload.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { storage } from \"../fire\";\nimport \"./img.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ImgUpload = () => {\n  _s();\n\n  const [image, setImage] = useState(null);\n  const [url, setUrl] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n\n  const handleChange = e => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n\n  const handleUpload = () => {\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on(\"state_changed\", snapshot => {\n      const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n      setProgress(progress);\n    }, error => {\n      console.log(error);\n    }, () => {\n      storage.ref(\"images\").child(image.name).getDownloadURL().then(url => {\n        setUrl(url);\n      });\n    });\n  };\n\n  return (\n    /*#__PURE__*/\n    // <div className=\"container\">\n    //     <h1>Image upload</h1>\n    //     <br />\n    //     <input type=\"file\" onChange={handleChange} />\n    //     <button onClick={handleUpload}>Upload</button>\n    //     <progress value={progress} max=\"100\" />\n    //     <img src={url} alt=\"firebase-image\" />\n    // </div>\n    _jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"h1\",\n        children: [\"jQuery Image Upload\", /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"with preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar-upload\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar-edit\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"imageUpload\",\n            onChange: handleChange,\n            accept: \".png, .jpg, .jpeg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label\",\n            for: \"imageUpload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar-preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this)\n  );\n};\n\n_s(ImgUpload, \"ABzJnqDIQywtLOVTqmaAH+6pAbc=\");\n\n_c = ImgUpload;\nexport default ImgUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImgUpload\");","map":{"version":3,"sources":["/Users/stoyannikolov/Desktop/softuni-react-exam/src/imgUpload/ImgUpload.js"],"names":["useState","storage","ImgUpload","image","setImage","url","setUrl","progress","setProgress","handleChange","e","target","files","handleUpload","uploadTask","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","console","log","child","getDownloadURL","then"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,OAAO,WAAP;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AACtB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACK,GAAD,EAAMC,MAAN,IAAgBN,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,CAAD,CAAxC;;AAEA,QAAMS,YAAY,GAAIC,CAAD,IAAO;AAC1B,QAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAJ,EAAuB;AACrBR,MAAAA,QAAQ,CAACM,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAR;AACD;AACF,GAJD;;AAKA,QAAMC,YAAY,GAAG,MAAM;AACzB,UAAMC,UAAU,GAAGb,OAAO,CAACc,GAAR,CAAa,UAASZ,KAAK,CAACa,IAAK,EAAjC,EAAoCC,GAApC,CAAwCd,KAAxC,CAAnB;AACAW,IAAAA,UAAU,CAACI,EAAX,CACE,eADF,EAEGC,QAAD,IAAc;AACZ,YAAMZ,QAAQ,GAAGa,IAAI,CAACC,KAAL,CACdF,QAAQ,CAACG,gBAAT,GAA4BH,QAAQ,CAACI,UAAtC,GAAoD,GADrC,CAAjB;AAGAf,MAAAA,WAAW,CAACD,QAAD,CAAX;AACD,KAPH,EAQGiB,KAAD,IAAW;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAVH,EAWE,MAAM;AACJvB,MAAAA,OAAO,CACJc,GADH,CACO,QADP,EAEGY,KAFH,CAESxB,KAAK,CAACa,IAFf,EAGGY,cAHH,GAIGC,IAJH,CAISxB,GAAD,IAAS;AACbC,QAAAA,MAAM,CAACD,GAAD,CAAN;AACD,OANH;AAOD,KAnBH;AAqBD,GAvBD;;AAyBA;AAAA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACE;AAAI,QAAA,SAAS,EAAC,IAAd;AAAA,uDAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA,kCACE;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,EAAE,EAAC,aAAtB;AAAqC,YAAA,QAAQ,EAAEI,YAA/C;AAA6D,YAAA,MAAM,EAAC;AAApE;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAC,OAAjB;AAAyB,YAAA,GAAG,EAAC;AAA7B;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE;AAAK,UAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA;AATF;AA4BD,CA/DD;;GAAMP,S;;KAAAA,S;AAiEN,eAAeA,SAAf","sourcesContent":["import { useState } from \"react\";\nimport { storage } from \"../fire\";\nimport \"./img.css\"\n\nconst ImgUpload = () => {\n  const [image, setImage] = useState(null);\n  const [url, setUrl] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n  const handleUpload = () => {\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(progress);\n      },\n      (error) => {\n        console.log(error);\n      },\n      () => {\n        storage\n          .ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            setUrl(url);\n          });\n      }\n    );\n  };\n\n  return (\n    // <div className=\"container\">\n    //     <h1>Image upload</h1>\n    //     <br />\n    //     <input type=\"file\" onChange={handleChange} />\n    //     <button onClick={handleUpload}>Upload</button>\n    //     <progress value={progress} max=\"100\" />\n    //     <img src={url} alt=\"firebase-image\" />\n    // </div>\n    <div className=\"container\">\n      <h1 className=\"h1\">\n        jQuery Image Upload\n        <small>with preview</small>\n      </h1>\n      <div className=\"avatar-upload\">\n        <div className=\"avatar-edit\">\n          <input type=\"file\" id=\"imageUpload\"  onChange={handleChange} accept=\".png, .jpg, .jpeg\" />\n          <label className=\"label\" for=\"imageUpload\"></label>\n        </div>\n        <div className=\"avatar-preview\">\n          {/* <div\n            id=\"imagePreview\"\n            style={backgroundImage: url}\n          ></div> */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImgUpload;\n"]},"metadata":{},"sourceType":"module"}